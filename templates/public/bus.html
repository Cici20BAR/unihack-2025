{% extends 'landing/base.html' %}
rr

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/bus.css' %}">
{% endblock %}

{% block content %}
    <main>

        <div class="cards-container">

            <div class="route-card">
                <div class="route-left">
                    <div class="route-number" style="background:#e92f63;">1</div>
                </div>

                <div class="route-content">

                    <div class="route-top">
                        <h1 class="route-title">Tramvai 1</h1>
                        <div class="route-type">Tramvai</div>
                    </div>

                    <p class="route-description">Gara de Nord – Stadionul Dan Păltinișanu</p>

                    <div class="route-details">
                        <div class="route-stops">20 stops</div>
                        <div class="route-fare">4.00 RON</div>
                    </div>

                </div>
            </div>

            <div class="route-card">
                <div class="route-left">
                    <div class="route-number" style="background:#8f3df0;">2</div>
                </div>

                <div class="route-content">

                    <div class="route-top">
                        <h1 class="route-title">Tramvai 2</h1>
                        <div class="route-type">Tramvai</div>
                    </div>

                    <p class="route-description">Circumferențial line around city center</p>

                    <div class="route-details">
                        <div class="route-stops">20 stops</div>
                        <div class="route-fare">4.00 RON</div>
                    </div>

                </div>
            </div>

            <div class="route-card">
                <div class="route-left">
                    <div class="route-number" style="background:#00aa72;">11</div>
                </div>

                <div class="route-content">

                    <div class="route-top">
                        <h1 class="route-title">Troleibuz 11</h1>
                        <div class="route-type">Troleibuz</div>
                    </div>

                    <p class="route-description">Gara de Nord – Zona Steaua</p>

                    <div class="route-details">
                        <div class="route-stops">15 stops</div>
                        <div class="route-fare">4.00 RON</div>
                    </div>

                </div>
            </div>

            <div class="route-card">
                <div class="route-left">
                    <div class="route-number" style="background:#0078ff;">E1</div>
                </div>

                <div class="route-content">

                    <div class="route-top">
                        <h1 class="route-title">Autobuz Express E1</h1>
                        <div class="route-type">Autobuz</div>
                    </div>

                    <p class="route-description">Airport – City Center – Gara de Nord</p>

                    <div class="route-details">
                        <div class="route-stops">4 stops</div>
                        <div class="route-fare">5.00 RON</div>
                    </div>

                </div>
            </div>

        </div>

    </main>
{% endblock %}

{% block extra_js %}
    <script src="https://unpkg.com/maplibre-gl@4.7.0/dist/maplibre-gl.js"></script>
    <script src="https://unpkg.com/maplibre-gl@4.7.0/dist/maplibre-gl.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Map route numbers to trip IDs (you can adjust this mapping)
            const tripIdMap = {
                '1': 1,
                '2': 2,
                '11': 11,
                'E1': "E1"
            };

            document.querySelectorAll('.route-card').forEach(card => {
                // Find the route number inside the card
                const routeNumberEl = card.querySelector('.route-number');
                if (!routeNumberEl) return;

                const routeNumber = routeNumberEl.textContent.trim();
                const tripId = tripIdMap[routeNumber];

                if (tripId) {
                    // Make card look clickable
                    card.style.cursor = 'pointer';

                    // Add click event
                    card.onclick = function () {
                        window.location.href = `/trips/${tripId}`;
                    };

                    // Optional: Add hover effect
                    card.addEventListener('mouseenter', () => {
                        card.style.transform = 'translateY(-2px)';
                        card.style.boxShadow = '0 8px 16px rgba(0,0,0,0.1)';
                    });
                    card.addEventListener('mouseleave', () => {
                        card.style.transform = '';
                        card.style.boxShadow = '';
                    });
                }
            });
        });
    </script>
{% endblock %}
